/**
 * @package    block_my_tasks
 * @category   blocks
 * @copyright  2017 Luiz Guilherme Dall Acqua <luizguilherme@nte.ufsm.br>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["require","jquery"],function(require,$){return{init:function(param){var stakTaks=$(".block-my-tasks-col-row");var st=$(".block-my-tasks-col-rownothing");var filterInput=$(".block-my-tasks-filter-situation");filterInput.change(function(){filter()});function filter(){var dt=new Date;var filter=getValueSituation();dt.setHours(0,0,0,0);switch(filter){case"*":stakTaks.slideUp(700).filter(function(){return true}).slideDown(800);break;case"s-0day":stakTaks.slideUp(700).filter(function(){var dt2=new Date;dt2.setHours(23,59,59,999);return $(this).data("dtfinal")*1e3<dt2.getTime()}).slideDown(800);break;case"s-1day":stakTaks.slideUp(700).filter(function(){var dt2=new Date;dt2.setDate(dt2.getDate()+1);dt2.setHours(23,59,59,999);return $(this).data("dtfinal")*1e3>dt.getTime()&&$(this).data("dtfinal")*1e3<dt2.getTime()}).slideDown(800);break;case"s-3day":stakTaks.slideUp(700).filter(function(){var dt2=new Date;dt2.setDate(dt2.getDate()+3);dt2.setHours(23,59,59,999);return $(this).data("dtfinal")*1e3>dt.getTime()&&$(this).data("dtfinal")*1e3<dt2.getTime()}).slideDown(800);break;default:if(filter!="")stakTaks.slideUp(700).filter("."+filter).slideDown(800);break}}function getValueSituation(){var $fs=filterInput.val();$fs=typeof $fs=="undefined"||$fs==""?"*":$fs;return $fs}function existItens(){setInterval(function(){$(".block-my-tasks-col-row:hidden").length==$(".block-my-tasks-col-row").length?st.slideDown(800):st.slideUp(800)},100)}filter();existItens()}}});
