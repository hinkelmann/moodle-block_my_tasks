/**
 * @package    block_my_tasks
 * @category   blocks
 * @copyright  2017 Luiz Guilherme Dall Acqua <luizguilherme@nte.ufsm.br>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["require","jquery","block_my_tasks/jquery.cookie"],function(e,t,i){return{init:function(e){var s=t(".block-my-tasks-col-row"),a=t(".block-my-tasks-col-rownothing"),n=t(".filter-task-select, .filter-task-situation");i.get("filterStatus");function l(){var e,i=new Date,a=e=void 0===(e=t(".filter-task-situation").val())||""==e?"*":e;switch(i.setHours(0,0,0,0),a){case"*":s.slideUp(700).filter(function(){return!0}).slideDown(800);break;case"s-0day":s.slideUp(700).filter(function(){var e=new Date;return e.setHours(23,59,59,999),1e3*t(this).data("dtfinal")<e.getTime()}).slideDown(800);break;case"s-1day":s.slideUp(700).filter(function(){var e=new Date;return e.setDate(e.getDate()+1),e.setHours(23,59,59,999),1e3*t(this).data("dtfinal")>i.getTime()&&1e3*t(this).data("dtfinal")<e.getTime()}).slideDown(800);break;case"s-3day":s.slideUp(700).filter(function(){var e=new Date;return e.setDate(e.getDate()+3),e.setHours(23,59,59,999),1e3*t(this).data("dtfinal")>i.getTime()&&1e3*t(this).data("dtfinal")<e.getTime()}).slideDown(800);break;default:""!=a&&s.slideUp(700).filter("."+a).slideDown(800)}}n.change(function(){l(),console.log(this)}),t(".filter-task-situation").change(function(){i.set("filterStatus",this.value,{expires:.1})}),l(),setInterval(function(){t(".block-my-tasks-col-row:hidden").length==t(".block-my-tasks-col-row").length?a.slideDown(800):a.slideUp(800)},100)}}});